Script started on 2024-07-01 21:56:57+03:00 [TERM="xterm-256color" TTY="/dev/pts/0" COLUMNS="120" LINES="30"]
[?2004h]0;rsshabanov@MSK-01: ~/codeby-devops/lesson4[01;32mrsshabanov@MSK-01[00m:[01;34m~/codeby-devops/lesson4[00m$ nano /etc/systemd/system/nginx-custom.service
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;35H(B[0;1m[37m[41m[ Directory '/etc/systemd/system' is not writable ][39;49m(B[m[H(B[0;7m  GNU nano 6.2                            /etc/systemd/system/nginx-custom.service                                      [1;119H(B[m[29d(B[0;7m^G(B[m Help[29;16H(B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut[29;61H(B[0;7m^T(B[m Execute     (B[0;7m^C(B[m Location    (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Set Mark[30d(B[0;7m^X(B[m Exit[30;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Paste[61G(B[0;7m^J(B[m Justify     (B[0;7m^/(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy[2d[?12l[?25h[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;rsshabanov@MSK-01: ~/codeby-devops/lesson4[01;32mrsshabanov@MSK-01[00m:[01;34m~/codeby-devops/lesson4[00m$ nano /etc/systemd/system/nginx-custom.service[1@s[1@u[1@d[1@o[1@ 
[?2004l[sudo] password for rsshabanov: 
[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;55H(B[0;7m[ New File ](B[m[H(B[0;7m  GNU nano 6.2                            /etc/systemd/system/nginx-custom.service                                      [1;119H(B[m[29d(B[0;7m^G(B[m Help[29;16H(B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut[29;61H(B[0;7m^T(B[m Execute     (B[0;7m^C(B[m Location    (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Set Mark[30d(B[0;7m^X(B[m Exit[30;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Paste[61G(B[0;7m^J(B[m Justify     (B[0;7m^/(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy[2d[?12l[?25h[?25l[28d[K[1;84H(B[0;7m*[119G(B[m[2d(B[0;1m[32m[Unit][3d[39m(B[mDescription=The NGINX HTTP and reverse proxy server[4dAfter=network.target remote-fs.target nss-lookup.target[6d(B[0;1m[32m[Service][7d[39m(B[mType=forking[8dPIDFile=/run/nginx.pid[9dExecStartPre=/usr/sbin/nginx -t[10dExecStart=/usr/sbin/nginx[11dExecReload=/usr/sbin/nginx -s reload[12dExecStop=/bin/kill -s QUIT $MAINPID[13dPrivateTmp=true[15d(B[0;1m[32m[Install][16d[39m(B[mWantedBy=multi-user.target[?12l[?25h[?25l[28d(B[0;7mSave modified buffer?                                                                                                   [29;1H Y(B[m Yes[K[30d(B[0;7m N(B[m No  [30;16H (B[0;7m^C(B[m Cancel[K[28;23H[?12l[?25h[?25l[29d(B[0;7m^G(B[m Help[29;31H(B[0;7mM-D(B[m DOS Format[29;61H(B[0;7mM-A(B[m Append[29;91H(B[0;7mM-B(B[m Backup File[30d(B[0;7m^C(B[m Cancel[17G[14X[30;31H(B[0;7mM-M(B[m Mac Format[30;61H(B[0;7mM-P(B[m Prepend[30;91H(B[0;7m^T(B[m Browse[28d(B[0;7mFile Name to Write: /etc/systemd/system/nginx-custom.service(B[m[?12l[?25h[?25l[28;53H[1K (B[0;7m[ Writing... ](B[m[K[1;84H(B[0;7m [119G(B[m[28;52H(B[0;7m[ Wrote 15 lines ](B[m[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;rsshabanov@MSK-01: ~/codeby-devops/lesson4[01;32mrsshabanov@MSK-01[00m:[01;34m~/codeby-devops/lesson4[00m$ sudo enable [K[K[K[K[K[K[Ksystemctl enable nginx-custom.service
[?2004lCreated symlink /etc/systemd/system/multi-user.target.wants/nginx-custom.service â†’ /etc/systemd/system/nginx-custom.service.
[?2004h]0;rsshabanov@MSK-01: ~/codeby-devops/lesson4[01;32mrsshabanov@MSK-01[00m:[01;34m~/codeby-devops/lesson4[00m$ sudo systemctl enable nginx-custom.service[1P nginx-custom.service[1P nginx-custom.service[1P nginx-custom.service[1P nginx-custom.service[1P nginx-custom.service[1P nginx-custom.services nginx-custom.servicet nginx-custom.servicea nginx-custom.servicer nginx-custom.servicet nginx-custom.service
[?2004lJob for nginx-custom.service failed because the control process exited with error code.
See "systemctl status nginx-custom.service" and "journalctl -xeu nginx-custom.service" for details.
[?2004h]0;rsshabanov@MSK-01: ~/codeby-devops/lesson4[01;32mrsshabanov@MSK-01[00m:[01;34m~/codeby-devops/lesson4[00m$ jpou[K[K[Kournalctl -xeu nginx-log.txt [K[K[K[K[K[K[K[Kcustom,.[K[K.service
[?2004l[?1h=[KJul 01 21:58:12 MSK-01 nginx[4641]: nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Unknown error)[m
Jul 01 21:58:12 MSK-01 nginx[4641]: nginx: [emerg] bind() to [::]:80 failed (98: Unknown error)[m
Jul 01 21:58:13 MSK-01 nginx[4641]: nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Unknown error)[m
Jul 01 21:58:13 MSK-01 nginx[4641]: nginx: [emerg] bind() to [::]:80 failed (98: Unknown error)[m
Jul 01 21:58:13 MSK-01 nginx[4641]: nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Unknown error)[m
Jul 01 21:58:13 MSK-01 nginx[4641]: nginx: [emerg] bind() to [::]:80 failed (98: Unknown error)[m
Jul 01 21:58:14 MSK-01 nginx[4641]: nginx: [emerg] still could not bind()[m
Jul 01 21:58:14 MSK-01 systemd[1]: [0;1;39m[0;1;31m[0;1;39mnginx-custom.service: Control process exited, code=exited, status=1/FAILURE[0m[m
[0;38;5;245mâ–‘â–‘ [0m[0;32mSubject: Unit process exited[0m[m
[0;38;5;245mâ–‘â–‘[0m [0;32mDefined-By: systemd[0m[m
[0;38;5;245mâ–‘â–‘[0m [0;32mSupport: http://www.ubuntu.com/support[0m[m
[0;38;5;245mâ–‘â–‘[0m [0;32m[0m[m
[0;38;5;245mâ–‘â–‘[0m [0;32mAn ExecStart= process belonging to unit nginx-custom.service has exited.[0m[m
[0;38;5;245mâ–‘â–‘[0m [0;32m[0m[m
[0;38;5;245mâ–‘â–‘[0m [0;32mThe process' exit code is 'exited' and its exit status is 1.[0m[m
Jul 01 21:58:14 MSK-01 systemd[1]: [0;1;38;5;185m[0;1;39m[0;1;38;5;185mnginx-custom.service: Failed with result 'exit-code'.[0m[m
[0;38;5;245mâ–‘â–‘ [0m[0;32mSubject: Unit failed[0m[m
[0;38;5;245mâ–‘â–‘[0m [0;32mDefined-By: systemd[0m[m
[0;38;5;245mâ–‘â–‘[0m [0;32mSupport: http://www.ubuntu.com/support[0m[m
[0;38;5;245mâ–‘â–‘[0m [0;32m[0m[m
[0;38;5;245mâ–‘â–‘[0m [0;32mThe unit nginx-custom.service has entered the 'failed' state with result 'exit-code'.[0m[m
Jul 01 21:58:14 MSK-01 systemd[1]: [0;1;31m[0;1;39m[0;1;31mFailed to start The NGINX HTTP and reverse proxy server.[0m[m
[0;38;5;245mâ–‘â–‘ [0m[0;32mSubject: A start job for unit nginx-custom.service has failed[0m[m
[0;38;5;245mâ–‘â–‘[0m [0;32mDefined-By: systemd[0m[m
[0;38;5;245mâ–‘â–‘[0m [0;32mSupport: http://www.ubuntu.com/support[0m[m
[0;38;5;245mâ–‘â–‘[0m [0;32m[0m[m
[0;38;5;245mâ–‘â–‘[0m [0;32mA start job for unit nginx-custom.service has finished with a failure.[0m[m
[0;38;5;245mâ–‘â–‘[0m [0;32m[0m[m
[0;38;5;245mâ–‘â–‘[0m [0;32mThe job identifier is 1009 and the job result is failed.[0m[m
[7mlines 15-43/43 (END)[27m[K[K[K[7mlines 15-43/43 (END)[27m[K[K[?1l>[?2004h]0;rsshabanov@MSK-01: ~/codeby-devops/lesson4[01;32mrsshabanov@MSK-01[00m:[01;34m~/codeby-devops/lesson4[00m$ ls -la
[?2004ltotal 178564
drwxrwxr-x 2 rsshabanov rsshabanov      4096 Jul  1 21:56 [0m[01;34m.[0m
drwxrwxr-x 5 rsshabanov rsshabanov      4096 Jul  1 20:29 [01;34m..[0m
-rw-rw-r-- 1 rsshabanov rsshabanov      2153 Jul  1 21:48 java-log.txt
-rw-rw-r-- 1 rsshabanov rsshabanov 182753781 Mar 11 20:59 [01;31mjdk-17_linux-x64_bin.tar.gz[0m
-rw-rw-r-- 1 rsshabanov rsshabanov      4096 Jul  1 21:58 nginx-log.txt
-rw-rw-r-- 1 rsshabanov rsshabanov     12415 Jul  1 21:35 ps-log.txt
-rw-rw-r-- 1 rsshabanov rsshabanov     54207 Jul  1 21:35 top-log.txt
[?2004h]0;rsshabanov@MSK-01: ~/codeby-devops/lesson4[01;32mrsshabanov@MSK-01[00m:[01;34m~/codeby-devops/lesson4[00m$ ls -lajournalctl -xeu nginx-custom.service[5@sudo systemctl start[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[1@enable[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cnano /etc/systemd/system/nginx-custom.service[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[5P[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[5@sudo [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;54H(B[0;7m[ Reading... ](B[m[28;52H(B[0;7m[ Read 15 lines ](B[m[H(B[0;7m  GNU nano 6.2                            /etc/systemd/system/nginx-custom.service                                      [1;119H(B[m[29d(B[0;7m^G(B[m Help[29;16H(B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut[29;61H(B[0;7m^T(B[m Execute     (B[0;7m^C(B[m Location    (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Set Mark[30d(B[0;7m^X(B[m Exit[30;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Paste[61G(B[0;7m^J(B[m Justify     (B[0;7m^/(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy[2d(B[0;1m[32m[Unit][3d[39m(B[mDescription=The NGINX HTTP and reverse proxy server[4dAfter=network.target remote-fs.target nss-lookup.target[6d(B[0;1m[32m[Service][7d[39m(B[mType=forking[8dPIDFile=/run/nginx.pid[9dExecStartPre=/usr/sbin/nginx -t[10dExecStart=/usr/sbin/nginx[11dExecReload=/usr/sbin/nginx -s reload[12dExecStop=/bin/kill -s QUIT $MAINPID[13dPrivateTmp=true[15d(B[0;1m[32m[Install][16d[39m(B[mWantedBy=multi-user.target[2d[?12l[?25h[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;rsshabanov@MSK-01: ~/codeby-devops/lesson4[01;32mrsshabanov@MSK-01[00m:[01;34m~/codeby-devops/lesson4[00m$ exit
[?2004lexit

Script done on 2024-07-01 21:59:25+03:00 [COMMAND_EXIT_CODE="0"]
